# 配置163邮箱SMTP和IMAP服务
EMAIL_ADDRESS= ...@163.com
EMAIL_PASSWORD=your_password_or_app_code...
# 默认使用163邮箱SMTP和IMAP服务,一般不需要修改
SMTP_HOST=smtp.163.com
SMTP_SSL_PORT=465
IMAP_HOST=imap.163.com


# 配置使用的模型
MODEL_NAME=gpt-4o-mini
# 默认
MODEL_TEMPERATURE=0
# 默认系统提示,不需要修改
SYSTEM_PROMPT=You are a helpful assistant.
# 默认日志级别
LOG_LEVEL=INFO

# 自定义api, 当这里配置了, 会使用自定义的api, 而不是默认的OpenAI api
CHATOPENAI_API_KEY=...
CHATOPENAI_BASE_URL= https://www.dmxapi.cn/v1


# 配置OpenAI API密钥,当自定义api配置了, 这里可以不配置; 或者上面的CHATOPENAI_API_KEY置空,使用 openai
OPENAI_API_KEY=...

# 配置HuggingFace 中文句向量嵌入模型
HF_EMBEDDING_MODEL=BAAI/bge-small-zh-v1.5


# 使用 OpenAI 兼容接口（DeepSeek 等）——推荐
# 注意：敏感值留空，按需填入你自己的密钥与数据库配置
CHATOPENAI_API_KEY=
CHATOPENAI_BASE_URL=https://api.deepseek.com/v1

# 模型与日志（DeepSeek 示例）
MODEL_NAME=deepseek-chat
LOG_LEVEL=INFO

# MySQL 连接配置（用于 MCP 仓储查询）
DB_HOST=
DB_PORT=
DB_USER=
# 将下面密码替换为你的本地 MySQL 密码；若无密码请创建或放通
DB_PASSWORD=
# 注意：仓库 SQL 使用的是 agentlz 数据库

# 多租户与鉴权
TENANT_ID_HEADER=X-Tenant-ID
AUTH_JWT_SECRET=replace-me
AUTH_JWT_ALG=HS256
AUTH_JWT_ISSUER=agentlz


# CORS
CORS_ALLOW_ORIGINS=["*"]
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# 链路最大步数硬上限（后端兜底）、、
# 用途：防止失控循环；SSE 与内部执行均生效；建议 10-30
CHAIN_HARD_LIMIT=20

# 向量数据库（pgvector）配置示例
VECTOR_BACKEND=pgvector
PGVECTOR_HOST= HOST
PGVECTOR_PORT=5432
PGVECTOR_DB=a
PGVECTOR_USER=a
PGVECTOR_PASSWORD=change-me
PGVECTOR_URL=postgresql://a:change-me@1HOST:5432/a

# MCP 检索参数（pgvector 混合排序）
# MCP_SEARCH_ALPHA：语义权重（0-1），默认 0.7；值越大越偏向语义相似度
# MCP_SEARCH_THETA：语义门槛（0-1），默认 0.75；值越低召回越宽
# MCP_SEARCH_TOPN：语义候选集大小（Top‑N），默认 50；适当增大可提高命中率
# MCP_SEARCH_TOPK：最终返回数量（Top‑k），默认 5；前端卡片数量
MCP_SEARCH_ALPHA=0.7
MCP_SEARCH_THETA=0.75
MCP_SEARCH_TOPN=50
MCP_SEARCH_TOPK=5

# MCP 可信度更新参数（工具评估滑动更新）
# MCP_TRUST_UPDATE_ALPHA：滑动系数（0-1），默认 0.2；越大收敛越快
# MCP_TRUST_ERROR_CAP：error 状态得分上限，默认 30；限制负反馈影响
# MCP_TRUST_SKIP_CAP：skipped 状态得分上限，默认 60；限制跳过影响
MCP_TRUST_UPDATE_ALPHA=0.2
MCP_TRUST_ERROR_CAP=30
MCP_TRUST_SKIP_CAP=60

# 事件壳版本号
EVENT_SCHEMA_VERSION=v1
# Redis
REDIS_HOST=HOST
REDIS_PORT=16379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://HOST:16379

# RabbitMQ
RABBITMQ_HOST=HOST
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/
RABBITMQ_URL=amqp://guest:guest@HOST:5672/
RABBITMQ_MANAGEMENT_URL=http://HOST:15672/

# 配置COS 存储桶
COS_BUCKET=...
COS_SECRET_ID=...
COS_SECRET_KEY=...
COS_REGION=ap-guangzhou
COS_BASE_URL=...

# sql表名
USER_TABLE_NAME=users
DOCUMENT_TABLE_NAME=document
TENANT_TABLE_NAME=tenant
USER_DOC_PERMISSION_TABLE_NAME=user_doc_permission
